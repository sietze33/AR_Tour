<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AR Scene met 4 Markers</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.0/aframe/build/aframe-ar.js"></script>
    <style>
      body { margin: 0; overflow: hidden; }
      /* Stijl voor knoppen */
      .language-buttons { position: fixed; top: 10px; left: 10px; z-index: 999; }
      .language-buttons button { margin-right: 5px; padding: 5px 10px; font-size: 16px; }
    </style>
  </head>
  <body>

    <!-- Taal knoppen -->
    <div class="language-buttons">
      <button onclick="changeLanguage('NL')">NL</button>
      <button onclick="changeLanguage('EN')">EN</button>
      <button onclick="changeLanguage('DE')">DE</button>
    </div>

    <a-scene embedded arjs="trackingMethod: best; debugUIEnabled: true;">

      <!-- Marker TIM -->
      <a-marker id="markerTIM" type="pattern" url="Testmarker1.patt">
        <a-entity gltf-model="url(poppetje.glb)" scale="6 6 6" position="0 -10 2" rotation="-90 0 0"></a-entity>
        <a-text id="greetingText" value="" position="10 0 0" rotation="-90 0 0" align="center" color="white" visible="false" scale="5 5 5"></a-text>
      </a-marker>

      <!-- Marker BLAUW (jongetje) -->
      <a-marker id="markerMuseum" type="pattern" url="Testmarker2.patt">
        <a-entity gltf-model="url(jongetje.glb)" scale="4 4 4" position="0 0 0" rotation="-90 0 0"></a-entity>
        <a-text id="textJongetje" value="Hoi, ik ben een jongetje" position="0 2 0" rotation="-90 0 0" align="center" color="yellow" scale="2 2 2" visible="false"></a-text>
      </a-marker>

      <!-- Marker 3 (politie) -->
      <a-marker id="marker3" type="pattern" url="Testmarker3.patt">
        <a-entity gltf-model="url(Politie.glb)" scale="4 4 4" position="0 0 0" rotation="-90 0 0"></a-entity>
        <a-text id="textPolitie" value="Hoi, ik ben een politieagent" position="0 2 0" rotation="-90 0 0" align="center" color="lightblue" scale="2 2 2" visible="false"></a-text>
      </a-marker>

      <!-- Marker 4 (schaatser) -->
      <a-marker id="marker4" type="pattern" url="Testmarker4.patt">
        <a-entity gltf-model="url(Schaatser.glb)" scale="4 4 4" position="0 0 0" rotation="-90 0 0"></a-entity>
        <a-text id="textSchaatser" value="Hoi, ik ben een schaatser" position="0 2 0" rotation="-90 0 0" align="center" color="orange" scale="2 2 2" visible="false"></a-text>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      // Teksten per persoon en taal
      const greetings = {
        jongetje: {
          NL: "Hoi, ik ben een jongetje",
          EN: "Hi, I am a boy",
          DE: "Hallo, ich bin ein Junge"
        },
        politie: {
          NL: "Hoi, ik ben een politieagent",
          EN: "Hi, I am a police officer",
          DE: "Hallo, ich bin ein Polizist"
        },
        schaatser: {
          NL: "Hoi, ik ben een schaatser",
          EN: "Hi, I am a skater",
          DE: "Hallo, ich bin ein SchlittschuhlÃ¤ufer"
        }
      };

      // Functie om taal te wisselen
      function changeLanguage(lang) {
        document.getElementById("textJongetje").setAttribute("value", greetings.jongetje[lang]);
        document.getElementById("textPolitie").setAttribute("value", greetings.politie[lang]);
        document.getElementById("textSchaatser").setAttribute("value", greetings.schaatser[lang]);
      }

      // Tekst zichtbaar maken alleen als marker wordt gevonden
      const markers = [
        {id:"markerMuseum", textId:"textJongetje"},
        {id:"marker3", textId:"textPolitie"},
        {id:"marker4", textId:"textSchaatser"}
      ];

      markers.forEach(marker => {
        const markerEl = document.getElementById(marker.id);
        const textEl = document.getElementById(marker.textId);

        markerEl.addEventListener('markerFound', () => { textEl.setAttribute('visible', true); });
        markerEl.addEventListener('markerLost', () => { textEl.setAttribute('visible', false); });
      });
    </script>

  </body>
</html>
