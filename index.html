<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>AR.js Meertalig Startscherm</title>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <style>
    body { margin: 0; height: 100vh; overflow: hidden; font-family: Arial, sans-serif; }

    /* Standaard audio en knoppen */
    #audioNL, #audioDE, #audioEN { width: 300px; display: none; }

    #mutebutton {
      background-color: #007BFF;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    #mutebutton:hover { background-color: #0056b3; }

    /* Startscherm */
    #startscreen {
      position:absolute; top:0; left:0; width:100%; height:100%; background:#0b1a33;
      display:flex; justify-content:center; align-items:center; flex-direction:column; gap:25px; z-index:10; overflow:hidden;
    }

    /* Achtergrondanimatie */
    .shape { position:absolute; border-radius:50%; opacity:0.3; animation: float 20s infinite ease-in-out;
      background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 70%);}
    .shape1 { width:200px; height:200px; top:10%; left:5%; animation-duration:25s; }
    .shape2 { width:300px; height:300px; top:50%; left:70%; animation-duration:35s; }
    .shape3 { width:150px; height:150px; top:80%; left:20%; animation-duration:30s; }

    @keyframes float {
      0% {transform:translateY(0) translateX(0) rotate(0deg);}
      50% {transform:translateY(-50px) translateX(30px) rotate(45deg);}
      100% {transform:translateY(0) translateX(0) rotate(0deg);}
    }

    #logo { position:absolute; top:20px; right:20px; width:100px; z-index:11; }

    /* Taalkeuze knoppen */
    .langBtn {
      display:flex; align-items:center; justify-content:center; gap:15px;
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      border:none; border-radius:30px; padding:0 25px;
      font-size:1.2em; font-weight:600; color:white; cursor:pointer;
      width:320px; height:80px; box-shadow:0 8px 25px rgba(0,0,0,0.25);
      transition: all 0.3s ease; position: relative; z-index:11;
    }
    .langBtn:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 15px 35px rgba(0,0,0,0.3); }
    .langBtn img { width:60px; height:60px; border-radius:50%; transition: transform 0.3s ease; }
    .langBtn:hover img { transform: scale(1.1) rotate(5deg); }

    /* Onderaan tekstvak */
    #bottomText {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 15px;
      text-align: center;
      font-size: 1.1em;
      color: white;
      background-color: rgba(0,0,0,0.6);
      display: none;
      z-index: 20;
    }
  </style>
</head>
<body>

<!-- ðŸŸ¦ Startscherm -->
<div id="startscreen">
  <div class="shape shape1"></div>
  <div class="shape shape2"></div>
  <div class="shape shape3"></div>

  <img id="logo" src="MuseumLogo.jpg" alt="Logo">

  <button class="langBtn" data-lang="NL"><img src="Schermafbeelding 2025-09-24 100257.png"><span>Nederlands</span></button>
  <button class="langBtn" data-lang="EN"><img src="Schermafbeelding 2025-09-24 100332.png"><span>English</span></button>
  <button class="langBtn" data-lang="DE"><img src="Schermafbeelding 2025-09-24 100315.png"><span>Deutsch</span></button>
  <button onclick="mute_audio()" type="button" id="mutebutton">Mute</button>
</div>

<!-- ðŸŸ¨ Tekst onderin -->
<div id="bottomText"></div>

<!-- ðŸŸ¥ AR SCENE -->
<a-scene embedded arjs="trackingMethod: best; debugUIEnabled: true;">

  <!-- Marker 1: VISSERVROUW -->
  <a-marker id="markerVISSERVROUW" type="pattern" url="Testmarker1.patt">
    <a-entity gltf-model="url(poppetje.glb)" scale="2 2 2" rotation="-90 0 0"></a-entity>
  </a-marker>

  <!-- Marker 2: POPPETJE -->
  <a-marker id="markerPOPPETJE" type="pattern" url="Testmarker2.patt">
    <a-entity gltf-model="url(jongentje.glb)" scale="8 8 8" rotation="-90 0 0"></a-entity>
  </a-marker>

  <a-entity camera></a-entity>
</a-scene>

<!-- ðŸŽµ Audio bestanden -->
<audio id="audioNL" src="NL.mp3"></audio>
<audio id="audioDE" src="DE.mp3"></audio>
<audio id="audioEN" src="ENG.mp3"></audio>

<script>
/* ðŸ”Š Geluid aan/uit */
function mute_audio() {
  const audios = [audioNL, audioDE, audioEN];
  const muted = audios[0].muted;
  audios.forEach(a => a.muted = !muted);
  mutebutton.textContent = muted ? "Mute" : "Unmute";
}

/* ðŸŒ Taalkeuze */
let selectedLang = "NL";
document.querySelectorAll('.langBtn').forEach(btn => {
  btn.addEventListener('click', () => {
    selectedLang = btn.dataset.lang;
    document.getElementById('startscreen').style.display = 'none';
  });
});

/* ðŸ“– Teksten per marker */
const greetings = {
  VISSERVROUW: {
    NL: "De visservrouw met de lange broek uit Moddergat is een fascinerend figuur uit de Friese visserijcultuur...",
    EN: "The fisherwoman with the long trousers in Moddergat is a fascinating figure from Frisian fishing culture...",
    DE: "Die Fischerin mit der langen Hose in Moddergat ist eine faszinierende Figur aus der friesischen Fischereikultur..."
  },
  POPPETJE: {
    NL: "Hallo, welkom in mijn woonkamer. Tijdens het eten zat ik op de grond...",
    EN: "Hello, welcome to my living room. While eating, I sat on the floor...",
    DE: "Hallo, willkommen in meinem Wohnzimmer. Beim Essen saÃŸ ich auf dem Boden..."
  }
};

/* ðŸ“± Tekst onderin aanpassen bij markers */
const bottomText = document.getElementById('bottomText');
const markers = document.querySelectorAll('a-marker');

markers.forEach(m => {
  const key = m.id.replace('marker', ''); // bv. 'VISSERVROUW'
  m.addEventListener('markerFound', () => {
    if (greetings[key] && greetings[key][selectedLang]) {
      bottomText.textContent = greetings[key][selectedLang];
      bottomText.style.display = 'block';
      const audio = document.getElementById('audio' + selectedLang);
      if (audio) audio.play();
    }
  });
  m.addEventListener('markerLost', () => {
    bottomText.style.display = 'none';
  });
});
</script>
</body>
</html>
